<%- include('../partials/header.ejs') %>

<h1>Liste des forêts</h1>
<a href="/forests/news" class="btn btn-primary mb-3">Ajouter une forêt</a>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Nom</th>
      <th>Association</th>
      <th>Pays</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% forests.forEach(forest => { %>
      <tr>
        <td><%= forest.name %></td>
        <td><%= forest.association %></td>
        <td><%= forest.country %></td>
        <td>
          <a href="/forests/<%= forest.id %>" class="btn btn-info btn-sm">Voir</a>
          <a href="/forests/<%= forest.id %>/edit" class="btn btn-warning btn-sm">Modifier</a>
          <form action="/forests/<%= forest.id %>?_method=DELETE" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Supprimer cette forêt ?')">Supprimer</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">

    <li class="page-item <%= hasPrevious ? '' : 'disabled' %>">
      <a class="page-link" href="?page=<%= currentPage - 1 %>"><i class="bi bi-arrow-left-circle"></i></a>
    </li>

    <% for(let i = 1; i <= totalPages; i++) { %>
      <li class="page-item <%= i === currentPage ? 'active' : '' %>">
        <a class="page-link" href="?page=<%= i %>"><%= i %></a>
      </li>
    <% } %>

    <li class="page-item <%= hasNext ? '' : 'disabled' %>">
      <a class="page-link" href="?page=<%= currentPage + 1 %>"><i class="bi bi-arrow-right-circle"></i></a>
    </li>

  </ul>
</nav>

<%- include('../partials/footer.ejs') %>
